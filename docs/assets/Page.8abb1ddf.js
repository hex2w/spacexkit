var B=Object.defineProperty,V=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var b=(s,e,t)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))N.call(e,t)&&b(s,t,e[t]);if(w)for(var t of w(e))z.call(e,t)&&b(s,t,e[t]);return s},x=(s,e)=>V(s,M(e));import{a as o,c as l,b as a,t as d,g as f,u as g,r as h,h as E,i as F,j as R,o as A,d as c,F as k,e as D}from"./index.3282950d.js";import{a as G}from"./api.bae3838d.js";import{V as H,_ as I}from"./PageItem.9dd7c3c5.js";const J={class:"my-7 md:my-12 mx-auto max-w-xl md:max-w-2xl lg:max-w-3xl bg-white overflow-hidden sm:rounded-lg shadow-md shadow-fuchsia-500 border-t-4 border-fuchsia-700"},L={class:"flex flex-wrap"},O=["src"],S={class:"px-4 py-5 sm:px-6"},T={class:"text-lg leading-6 font-medium text-gray-900"},K={class:"mt-1 max-w-2xl text-sm text-gray-500"},Q={class:"border-t border-gray-200 bg-black"},U={props:{data:{}},setup(s){return(e,t)=>(o(),l("div",J,[a("div",L,[a("img",{class:"h-40",src:s.data.flickr_images[0],alt:"Photo of the roadster"},null,8,O),a("div",S,[a("h3",T,d(s.data.name),1),a("p",K,d(s.data.id),1)])]),a("div",Q,[f(g(H),{json:s.data},null,8,["json"])])]))}},W={key:0,class:"flex justify-center text-4xl font-semibold text-red-400"},X={key:1,class:"py-10 flex justify-center"},Y=a("svg",{class:"animate-spin -ml-1 mr-3 h-16 w-16 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Z=[Y],ee={key:2},te={key:0},ae={key:1,class:"grid grid-cols-1 lg:grid-cols-2"},se={key:0,class:"mx-2 md:mx-5 p-2 md:p-4 lg:p-6 fixed bottom-0 font-semibold bg-white text-black rounded-t-2xl border-t-4 border-cyan-400 shadow-md shadow-cyan-400"},oe={class:"mx-auto inline-flex flex-wrap space-x-6 max-w-xl md:max-w-2xl lg:max-w-3xl"},le={key:0},re=["disabled"],ne=a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),de=[ne],ie=["disabled"],ce=a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),ue=[ce],_e={setup(s){const e=h({}),t=h(!0),v=h(!1),r=E(),y=F(),u=h(r.query.page);let P={page:parseInt(r.query.page)};const $=R(i=>u.value*10-9+"-"+(u.value*10-10+e.value.docs.length));function m(i){u.value=i,y.push({path:r.fullPath,query:x(p({},r.query),{page:i})})}r.query.page||y.replace({path:r.fullPath,query:x(p({},r.query),{page:1})});function q(){m(e.value.nextPage)}function C(){m(e.value.prevPage)}return A(i=>{setTimeout(n=>{v.value=!0},200),G(`${r.path}`,P).then(n=>e.value=n).then(n=>t.value=!1).then(n=>{u.value>e.value.totalPages&&m(e.value.totalPages)})}),(i,n)=>(o(),l(k,null,[e.value.error?(o(),l("div",W,d(e.value.error),1)):c("",!0),(t.value||!v.value)&&!e.value.error?(o(),l("div",X,Z)):c("",!0),!t.value&&v.value&&!e.value.error?(o(),l("div",ee,[g(r).path==="/roadster"?(o(),l("div",te,[f(U,{data:e.value},null,8,["data"])])):(o(),l("div",ae,[(o(!0),l(k,null,D(e.value.docs,(_,j)=>(o(),l("div",{class:"p-0 md:p-4",key:j},[f(I,{data:_},null,8,["data"])]))),128)),e.value.totalPages!=1?(o(),l("div",se,[a("div",oe,[t.value?c("",!0):(o(),l("p",le," Page\xA0"+d(e.value.page)+"\xA0of\xA0"+d(e.value.totalPages)+", "+d(g(r).name)+"\xA0"+d(g($)),1)),a("button",{disabled:!e.value.hasPrevPage,onClick:n[0]||(n[0]=_=>C()),class:"bg-cyan-500 rounded-full hover:bg-cyan-400 disabled:bg-slate-400"},de,8,re),a("button",{disabled:!e.value.hasNextPage,onClick:n[1]||(n[1]=_=>q()),class:"ring ring-cyan-500 hover:ring-cyan-400 bg-cyan-500 rounded-full hover:bg-cyan-400 disabled:ring-slate-400 disabled:bg-slate-400"},ue,8,ie)])])):c("",!0)]))])):c("",!0)],64))}};export{_e as default};
